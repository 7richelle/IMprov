{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Profile</title>
  <link rel="stylesheet" href="{% static 'profile_user.css' %}">
</head>
<body>
  <div class="dashboard">

    <!-- PREMIUM HEADER (like leaderboard) -->
    <header class="top-bar premium-header">
      <div class="left-side">
        <span class="logo">âœ¨</span>
        <a href="{% url 'task_dashboard' %}" class="nav-btn">Home</a>
      </div>

      <nav class="nav-menu">
        <a href="{% url 'leaderboard' %}" class="nav-item">Leaderboard</a>
         <a href="{% url 'task_summary' %}" class="nav-item">Summary</a>
        <a href="{% url 'user_progress' %}" class="nav-item">Progress</a>
        <a href="{% url 'profile_user' %}" class="nav-item active">Profile</a>
      <form action="{% url 'login' %}" method="post" class="logout-form">
        {% csrf_token %}
        <button type="submit" class="logout-btn">Logout</button>
      </form>
      </nav>
    </header>

    <!-- MAIN PROFILE + EDIT SIDE-BY-SIDE -->
    <main class="profile-progress-wrapper">

      <!-- LEFT: PROFILE INFO -->
      <section class="profile-container-section">
        <div class="profile-card">
          <h2 class="profile-title">My Profile</h2>

          <div class="profile-top">
            <!-- AVATAR -->
<div class="avatar-wrapper">
    {% if profile_image %}
        <img src="{{ MEDIA_URL }}{{ profile_image }}" class="avatar">
    {% else %}
        <img src="{% static 'images/profile.jpg' %}" class="avatar">
    {% endif %}

    <form method="POST" enctype="multipart/form-data" class="upload-form">
        {% csrf_token %}
        <label for="id_image" class="change-photo-btn">Change Picture</label>
        <input type="file" name="image" id="id_image" accept="image/*" onchange="this.form.submit()">
    </form>
</div>


            <!-- ACCOUNT INFO -->
            <div class="info-wrapper">
              <h3 class="info-title">Account Information</h3>
              <div class="info-item">
                <span class="label">Name:</span>
                <span class="value">{{ user_name }}</span>
              </div>
              <div class="info-item">
                <span class="label">Email:</span>
                <span class="value">{{ user_email }}</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: EDIT PROFILE -->
      <section class="profile-container-section">
        <div class="profile-card">
          <h2 class="profile-title">Edit Profile</h2>

          <form method="POST" class="edit-profile-form">
            {% csrf_token %}
            <div class="info-wrapper">
              <div class="info-item">
                <label class="label" for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ user_email }}" required>
              </div>

              <div class="info-item">
                <label class="label" for="password">New Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter new password">
              </div>

              <button type="submit" class="edit-btn">Update Profile</button>
            </div>
          </form>
        </div>
      </section>

    </main>
  </div>
</body>
</html>
